




<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>GetUserMediaÊµÀý</title>
</head>
<body>
    <img id="img1" src=""/><br/>
	<img id="img2" src=""/>
</body>



<script type="text/javascript">
    function getBase64Image(img) {
      var canvas = document.createElement("canvas");
      canvas.width = img.width;
      canvas.height = img.height;

      var ctx = canvas.getContext("2d");
      ctx.drawImage(img, 0, 0, img.width, img.height);

      var dataURL = canvas.toDataURL("image/jpeg");
      return dataURL

      // return dataURL.replace("data:image/png;base64,", "");
    }


    function main() {
      var img = document.createElement('img');
	  var path1='file:///G:/1.jpg';
	  var path2='http://192.168.139.1:8090/resources/images/logo2014.jpg';
      img.src = path1;
      img.onload =function() {
        var data = getBase64Image(img);
        console.log(data);
      }

      document.body.appendChild(img);
    }

    main();

  </script>


</html>